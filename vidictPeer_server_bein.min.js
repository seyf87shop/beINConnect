/**
 * vidictPeer_server.js
 * ver. 0.7.15
 */
var _0x5c45=['readyState','CLOSED','connectionErrorCount','slice','toString','wss://','push','sort','get','signallingTime','seederResponseTime','p2pConnectTime','isPeer','p2pTransferTime','chunkDuration','downloadSpeed','cdnTransferTime','iceServers','urls','signalIp','signalActive','USED','delete','signalState','INUSE','NEW','size','set','seederId','leecher','connectedPeer','now','lastAccessed','free','reported','new','REPORTED','signalling','inuse','lastNodeServerTime','isMobile','symmetricNat','pk=','url','ICL','send','onmessage','data','ACR','onclose','onerror','reportedChunk','peerRequestedChunk','finalizeSeeder','nodeServerTime','nodeServerInitTime','nodeServerTotal','FREE','csid','candidateSocketId','fail','peerAvailable','candidateSignallingId','csiid','initLeecher','ssis','SIGNALLING','_channelReady','TERM','numberOfNextTries','lastFragmentDownloadTime','leecherSP','state','timer','started','bind','retries','NTCFC','pow','close','loader','open','responseType','onload','rangeStart','rangeEnd','Range','bytes=','onSuccess','target','response','frag','substring','relurl','reverse','streamController','NEXT','requestedChunk','p2pDirectChunk','SIGNAL','P2PCONNECT','P2PTRANSFER','p2pTransferFailed','TIMEOUT','GET','setRequestHeader','fragments','FileReader','result','byteLength','blob','RECEIVED','readAsArrayBuffer','onprogress','signallingTotal','p2pTransferFailedTime','fragPlaying','ICFC','userAgent','p2pConnectTotal','p2pConnectFailed','ICFCC','undefined','engine','hls','core','getCurrentPlayback','_hls','details','toLowerCase','buffer','bufferEmpty','ErrorTypes','NETWORK_ERROR','numberOfReportedSeeders','taken','report','reuseSIP','activeSeeder','seederString','ccn','fragCurrent','start','lastCurrentTime','round','initBuffer','time','stop','(^0.0.0.0$)|(^192.168.([0-9]|[0-9][0-9]|[0-2][0-5][0-5]).([0-9]|[0-9][0-9]|[0-2][0-5][0-5])$)|(^172.([1][6-9]|[2][0-9]|[3][0-1]).([0-9]|[0-9][0-9]|[0-2][0-5][0-5]).([0-9]|[0-9][0-9]|[0-2][0-5][0-5])$)|(^10.([0-9]|[0-9][0-9]|[0-2][0-5][0-5]).([0-9]|[0-9][0-9]|[0-2][0-5][0-5]).([0-9]|[0-9][0-9]|[0-2][0-5][0-5])$)','test','empty','candidateSeederSignalString','chunkFinished','previousFragments','activeTime','seederSP','readyFromLeecherReceived','connectReceived','sdp','map','trim','forEach','srflx','a=candidate:','rport','relatedPort','tcptype','port','keys','connect','root','START','startsWith','string','READY','signal','object','decode','END','match','compressToUTF16','decompressFromUTF16','parse','apply','return\x20(function()\x20','{}.constructor(\x22return\x20this\x22)(\x20)','console','log','debug','info','error','exception','trace','href','includes','mubarat','location','split','length','document','www.janjua.tv','arabickoora','1431','1431','1431','1431','floor','random','utf-8','indexOf','substr','freeze','vidict','vidictadmin1','136.243.102.106','3450','5.9.48.83','3450','stun:','turn:','?transport=udp','?transport=tcp','p2p.vidict.net','p2p02eu.vidict.net'];(function(_0x5e1afc,_0x4669bb){var _0x1d7da4=function(_0x3df07d){while(--_0x3df07d){_0x5e1afc['push'](_0x5e1afc['shift']());}};_0x1d7da4(++_0x4669bb);}(_0x5c45,0xb7));var _0x3ff8=function(_0x523838,_0x2873cf){_0x523838=_0x523838-0x0;var _0x3a88ed=_0x5c45[_0x523838];return _0x3a88ed;};var _0x24a1e2=function(){var _0x6bd58f=!![];return function(_0x4a0d7a,_0x207bca){var _0x68e360=_0x6bd58f?function(){if(_0x207bca){var _0x446aee=_0x207bca[_0x3ff8('0x0')](_0x4a0d7a,arguments);_0x207bca=null;return _0x446aee;}}:function(){};_0x6bd58f=![];return _0x68e360;};}();var _0x3d3bf1=_0x24a1e2(this,function(){var _0x4f5934=function(){};var _0x3d182f=function(){var _0x3d8cff;try{_0x3d8cff=Function(_0x3ff8('0x1')+_0x3ff8('0x2')+');')();}catch(_0x1dff5d){_0x3d8cff=window;}return _0x3d8cff;};var _0x2b7b3d=_0x3d182f();if(!_0x2b7b3d[_0x3ff8('0x3')]){_0x2b7b3d['console']=function(_0x4f5934){var _0x19fb05={};_0x19fb05[_0x3ff8('0x4')]=_0x4f5934;_0x19fb05['warn']=_0x4f5934;_0x19fb05[_0x3ff8('0x5')]=_0x4f5934;_0x19fb05[_0x3ff8('0x6')]=_0x4f5934;_0x19fb05[_0x3ff8('0x7')]=_0x4f5934;_0x19fb05[_0x3ff8('0x8')]=_0x4f5934;_0x19fb05[_0x3ff8('0x9')]=_0x4f5934;return _0x19fb05;}(_0x4f5934);}else{_0x2b7b3d[_0x3ff8('0x3')][_0x3ff8('0x4')]=_0x4f5934;_0x2b7b3d[_0x3ff8('0x3')]['warn']=_0x4f5934;_0x2b7b3d[_0x3ff8('0x3')][_0x3ff8('0x5')]=_0x4f5934;_0x2b7b3d[_0x3ff8('0x3')][_0x3ff8('0x6')]=_0x4f5934;_0x2b7b3d['console'][_0x3ff8('0x7')]=_0x4f5934;_0x2b7b3d[_0x3ff8('0x3')][_0x3ff8('0x8')]=_0x4f5934;_0x2b7b3d['console'][_0x3ff8('0x9')]=_0x4f5934;}});_0x3d3bf1();var licenseId='1';var channelUrl;if(window['location'][_0x3ff8('0xa')][_0x3ff8('0xb')](_0x3ff8('0xc'))){channelUrl=undefined;}else if(window[_0x3ff8('0xd')]['href'][_0x3ff8('0xe')]('/')[_0x3ff8('0xf')]===0x8){channelUrl=window[_0x3ff8('0xd')][_0x3ff8('0xa')][_0x3ff8('0xe')]('/')[0x4];}else{channelUrl=window[_0x3ff8('0xd')][_0x3ff8('0xa')][_0x3ff8('0xe')]('/')[0x5];}var failedTransfers=0x0;var signallingStart;var signallingEnd;var repeatTimeForCheckRoom=0x3e8;var repeatTimeForWaitChunk=0x12c;var repeatTimeForWaitFragment=0x1194;var maxRetriesForCallTheServer=0x7;var chunkSize=0x3e80;var currentChunkName;var isFirstChunk=!![];var isSecondChunk=!![];var isThirdChunk=!![];var chunkMap=new Map();var suffixRemove='.';var maxRetryForNewChunkFromRoom=0x4;var chunksFromCDN=0x0;var chunksFromPeer=0x0;var counterForTotalChunks=0x0;var repeatTimeForClearChunkMap=0x4e20;var maxCDNTransferTime=0x4e20;var cdnBusy=![];var seederSignallingThreshold=0x61a8;var maxNumberOfNextRetries=0xf;var htmlDocument=window[_0x3ff8('0x10')];var debug=!![];var clientDomain=_0x3ff8('0x11');var clientSubdomain=_0x3ff8('0x12');var serverports=[_0x3ff8('0x13'),'1431',_0x3ff8('0x14'),_0x3ff8('0x15'),'1431',_0x3ff8('0x16')];var choosenPort=serverports[Math[_0x3ff8('0x17')](Math[_0x3ff8('0x18')]()*0x6)];var encoder=new TextDecoder(_0x3ff8('0x19'));var websocketConn;var inactiveChunkTimer=0x1d4c0;var slowServerThreshold=0xa;var slowServerCount=0x0;var maximumSocketDelay=0x320;var maximumSignalDelay=0x5dc;var seederRecreationTime=0xea60;var useP2P=![];var exitP2P=![];var enableCompression=!![];var p2pConnectionObject=new Object();var seeders=new Map();var maxSeeders=0x8;var maxUsedSeeders=0x2;var peerStructureLifetimeThreshold=0x2bf20;var connectedPeerStructureLifetimeThreshold=0x7530;if(channelUrl!==undefined&&channelUrl[_0x3ff8('0x1a')]('?')>-0x1){channelUrl=channelUrl[_0x3ff8('0x1b')](0x0,channelUrl['indexOf']('?'));}var connectionErrorThreshold=0x5;var connectionErrorResetTimer=0x2dc6c0;var states=Object[_0x3ff8('0x1c')]({'NEXT':0x0,'SIGNAL':0x1,'SIGNALNODE':0x2,'P2PCONNECT':0x3,'P2PTRANSFER':0x4,'P2PFAILED':0x5,'RECEIVED':0x6,'TIMEOUT':0x7});var signalStates=Object[_0x3ff8('0x1c')]({'NEW':0x0,'FREE':0x1,'REPORTED':0x2,'SIGNALLING':0x3,'INUSE':0x4,'USED':0x5});var username=_0x3ff8('0x1d');var credential=_0x3ff8('0x1e');var signallingServerIp=_0x3ff8('0x1f');var signallingServerPort=_0x3ff8('0x20');var signallingBackupServerIp=_0x3ff8('0x21');var signallingBackupServerPort=_0x3ff8('0x22');var signallingConfig={'iceServers':[{'urls':_0x3ff8('0x23')+signallingServerIp+':'+signallingServerPort,'username':username,'credential':credential},{'urls':_0x3ff8('0x24')+signallingServerIp+':'+signallingServerPort+_0x3ff8('0x25'),'username':username,'credential':credential},{'urls':_0x3ff8('0x24')+signallingServerIp+':'+signallingServerPort+_0x3ff8('0x26'),'username':username,'credential':credential}]};var nodeServerIp=_0x3ff8('0x27');var nodeBackupServerIp=_0x3ff8('0x28');var useBackupNodeServer=![];function checkSockets(){if(websocketConn===undefined||websocketConn!==undefined&&websocketConn[_0x3ff8('0x29')]===websocketConn[_0x3ff8('0x2a')]){var _0x2046fe=0x0;var _0x503ab8=!![];if(websocketConn!==undefined&&websocketConn['readyState']===websocketConn['CLOSED']&&websocketConn['connectionErrorCount']!==undefined){_0x2046fe=websocketConn[_0x3ff8('0x2b')];if(websocketConn[_0x3ff8('0x2b')]===connectionErrorThreshold){if(!useBackupNodeServer){nodeServerIp=nodeBackupServerIp;useBackupNodeServer=!![];_0x2046fe=0x0;}else{_0x503ab8=![];exitP2P=!![];}}}if(_0x503ab8){var _0x5e78ce=Math['random']()['toString'](0x24)[_0x3ff8('0x2c')](0x2)+Math['random']()[_0x3ff8('0x2d')](0x24)[_0x3ff8('0x2c')](0x2);websocketConn=new WebSocket(_0x3ff8('0x2e')+nodeServerIp+':'+choosenPort+'/'+_0x5e78ce);websocketConn['id']=_0x5e78ce;websocketConn[_0x3ff8('0x2b')]=_0x2046fe+0x1;isFirstChunk=!![];createWebSocketConn();}}}var lastChunksForCalc=0x3;var avgBitRate=0x0;var initDownloadSpeed=0x989680;var deltaAvg=0x1194;var initSignalServerAvg=0x2bc;var initSignalNodeAvg=0xc8;var initP2PConnectAvg=0x514;var initP2PTransferAvg=0xbb8;var initCDNTransferAvg=0xed8;var lastSignalServerAvg;var lastSignalNodeAvg;var lastP2PConnectAvg;var lastP2PTransferAvg;var lastCDNTransferAvg;var keyArray;var getKeyArray=function(){keyArray=[];for(var [_0x182648,_0x3af6a1]of chunkMap){keyArray[_0x3ff8('0x2f')](_0x182648);}keyArray[_0x3ff8('0x30')](function(_0x41bacd,_0x34b7dc){return _0x34b7dc-_0x41bacd;});};var setLastSignalServer=function(){getKeyArray();var _0x4bc6bd=0x0;var _0x504067=0x0;var _0x25f4d8=0x0;var _0x5c8cde=lastChunksForCalc;while(_0x4bc6bd<_0x5c8cde){if(keyArray[_0x4bc6bd]!==undefined){var _0x3e8d8f=chunkMap[_0x3ff8('0x31')](keyArray[_0x4bc6bd]);if(_0x3e8d8f[_0x3ff8('0x32')]!==0x0&&_0x3e8d8f['signallingTime']<0x186a0){_0x504067+=_0x3e8d8f[_0x3ff8('0x32')];_0x25f4d8++;}else{_0x5c8cde++;}_0x4bc6bd++;}else{_0x4bc6bd=_0x5c8cde;}}if(_0x25f4d8!==0x0){lastSignalServerAvg=Math[_0x3ff8('0x17')](_0x504067/_0x25f4d8);}else{lastSignalServerAvg=initSignalServerAvg;}return!![];};var getAvgSeederResponse=function(){getKeyArray();var _0xf3ea03=0x0;var _0x59adc7=0x0;var _0x55e996=0x0;var _0x23cce9=lastChunksForCalc;while(_0xf3ea03<_0x23cce9){if(keyArray[_0xf3ea03]!==undefined){var _0x4b7a57=chunkMap[_0x3ff8('0x31')](keyArray[_0xf3ea03]);if(_0x4b7a57[_0x3ff8('0x33')]>0x0&&_0x4b7a57[_0x3ff8('0x33')]<0x186a0){_0x59adc7+=_0x4b7a57[_0x3ff8('0x33')];_0x55e996++;}else{_0x23cce9++;}_0xf3ea03++;}else{_0xf3ea03=_0x23cce9;}}if(_0x55e996!==0x0){return Math['floor'](_0x59adc7/_0x55e996);}else{return 0x0;}};var setLastP2PConnect=function(){getKeyArray();var _0x4b0681=0x0;var _0x4d0238=0x0;var _0xc6b47=0x0;var _0x58c7e3=lastChunksForCalc;while(_0x4b0681<_0x58c7e3){if(keyArray[_0x4b0681]!==undefined){var _0x39419b=chunkMap[_0x3ff8('0x31')](keyArray[_0x4b0681]);if(_0x39419b[_0x3ff8('0x34')]!==0x0&&_0x39419b[_0x3ff8('0x34')]<0x186a0){_0x4d0238+=_0x39419b[_0x3ff8('0x34')];_0xc6b47++;}else{_0x58c7e3++;}_0x4b0681++;}else{_0x4b0681=_0x58c7e3;}}if(_0xc6b47!==0x0){lastP2PConnectAvg=Math[_0x3ff8('0x17')](_0x4d0238/_0xc6b47);}else{lastP2PConnectAvg=initP2PConnectAvg;}return!![];};var setLastP2PTransfer=function(){getKeyArray();var _0x48fcf3=0x0;var _0x5537f2=0x0;var _0x206391=0x0;var _0x4c0421=lastChunksForCalc;while(_0x48fcf3<_0x4c0421){if(keyArray[_0x48fcf3]!==undefined){var _0x4f2663=chunkMap[_0x3ff8('0x31')](keyArray[_0x48fcf3]);if(_0x4f2663[_0x3ff8('0x35')]&&_0x4f2663[_0x3ff8('0x36')]<0x186a0){_0x5537f2+=_0x4f2663[_0x3ff8('0x36')];_0x206391++;}else{_0x4c0421++;}_0x48fcf3++;}else{_0x48fcf3=_0x4c0421;}}if(_0x206391!==0x0){lastP2PTransferAvg=Math['floor'](_0x5537f2/_0x206391);}else{lastP2PTransferAvg=initP2PTransferAvg;}return!![];};function getTimeChunkPrediction(_0x57d322){var _0x792bc3=initCDNTransferAvg;if(avgBitRate!==0x0){try{var _0x3567a7=avgBitRate*chunkMap[_0x3ff8('0x31')](_0x57d322)[_0x3ff8('0x37')];_0x792bc3=_0x3567a7/getAvgCDNDownloadSpeed()*0x3e8;}catch(_0x48c4b7){}}if(avgBitRate===0x0||_0x792bc3===0x0){setLastCDNTransferAvg();_0x792bc3=lastCDNTransferAvg;}return _0x792bc3;};var getAvgCDNDownloadSpeed=function(){getKeyArray();var _0x4df4a1=0x0;var _0x4046d8=0x0;var _0x5469de=0x0;var _0x1271b1=lastChunksForCalc;while(_0x4df4a1<_0x1271b1){if(chunkMap[_0x3ff8('0x31')](keyArray[_0x4df4a1])!==undefined){if(chunkMap[_0x3ff8('0x31')](keyArray[_0x4df4a1])[_0x3ff8('0x38')]!==undefined&&chunkMap[_0x3ff8('0x31')](keyArray[_0x4df4a1])[_0x3ff8('0x38')]!==0x0&&chunkMap[_0x3ff8('0x31')](keyArray[_0x4df4a1])[_0x3ff8('0x38')]<0x5f5e100){_0x5469de+=chunkMap[_0x3ff8('0x31')](keyArray[_0x4df4a1])[_0x3ff8('0x38')];_0x4046d8++;}else{_0x1271b1++;}_0x4df4a1++;}else{_0x4df4a1=_0x1271b1;}}if(_0x4046d8===0x0){return initDownloadSpeed;}else{var _0x528eaa=_0x5469de/_0x4046d8;if(_0x528eaa===0x0){return initDownloadSpeed;}else{return _0x528eaa;}}};var setLastCDNTransferAvg=function(){getKeyArray();var _0x13b31d=0x0;var _0x2b4f9a=0x0;var _0x59d1f1=0x0;var _0xeebbe6=lastChunksForCalc;if(_0xeebbe6>keyArray[_0x3ff8('0xf')]-0x1){_0xeebbe6=keyArray['length']-0x1;}while(_0x13b31d<=_0xeebbe6){if(keyArray[_0x13b31d]!==undefined){var _0x4e18e5=chunkMap[_0x3ff8('0x31')](keyArray[_0x13b31d]);if(_0x4e18e5!=undefined&&_0x4e18e5[_0x3ff8('0x39')]!==0x0&&_0x4e18e5[_0x3ff8('0x39')]<0x186a0){_0x2b4f9a+=_0x4e18e5['cdnTransferTime'];_0x59d1f1++;}_0x13b31d++;}else{_0x13b31d=_0xeebbe6;}}if(_0x59d1f1!==0x0){var _0x4de40d=Math[_0x3ff8('0x17')](_0x2b4f9a/_0x59d1f1);if(_0x4de40d>connectedPeerStructureLifetimeThreshold){lastCDNTransferAvg=connectedPeerStructureLifetimeThreshold;}else{lastCDNTransferAvg=_0x4de40d;}}else{lastCDNTransferAvg=initCDNTransferAvg;}return!![];};var getPeeringTimeout=function(){setLastSignalServer();setLastP2PConnect();setLastP2PTransfer();setLastCDNTransferAvg();var _0x4cf458=lastP2PConnectAvg+lastP2PTransferAvg;if(_0x4cf458<lastCDNTransferAvg){_0x4cf458=lastCDNTransferAvg;}return _0x4cf458;};var getTotaltimeout=function(){return getPeeringTimeout()+lastSignalServerAvg+deltaAvg;};function changeSignalConfig(){signallingConfig={'iceServers':[{'urls':_0x3ff8('0x23')+signallingBackupServerIp+':'+signallingBackupServerPort,'username':username,'credential':credential}]};}function checkForServersSlowdown(){try{if(!useP2P){slowServerCount++;}else if(websocketConn!==undefined){if(websocketConn['lastNodeServerTime']>maximumSocketDelay){useP2P=![];}}else{checkSockets();}if(slowServerCount>slowServerThreshold){slowServerCount=0x0;useP2P=!![];checkSockets();}for(var [_0x94c816,_0xd6cef8]of seeders){if(signallingConfig[_0x3ff8('0x3a')][0x0]['urls'][_0x3ff8('0xe')](':')[0x1]!==undefined&&signallingConfig[_0x3ff8('0x3a')][0x0][_0x3ff8('0x3b')][_0x3ff8('0xe')](':')[0x1]===_0xd6cef8[_0x3ff8('0x3c')]){if(signallingServerIp===_0xd6cef8[_0x3ff8('0x3c')]){if(!_0xd6cef8[_0x3ff8('0x3d')]||getAvgSeederResponse()>maximumSignalDelay){changeSignalConfig();break;}}else if(!_0xd6cef8['signalActive']){exitP2P=!![];break;}}}}catch(_0x1a5407){}}function checkP2PconnectionObjects(){try{for(var [_0x491bee,_0xfe00e8]of seeders){if(_0xfe00e8['signalState']===signalStates[_0x3ff8('0x3e')]){seeders[_0x3ff8('0x3f')](_0x491bee);continue;}if(Date['now']()-_0xfe00e8['lastAccessed']>seederSignallingThreshold&&(_0xfe00e8[_0x3ff8('0x40')]===signalStates[_0x3ff8('0x41')]||_0xfe00e8[_0x3ff8('0x40')]===signalStates['SIGNALLING'])){seeders[_0x3ff8('0x3f')](_0x491bee);continue;}if(_0xfe00e8['signalState']===signalStates[_0x3ff8('0x42')]){seeders['delete'](_0x491bee);continue;}}if(seeders[_0x3ff8('0x43')]<maxSeeders){var _0xfe00e8=new Seeder();seeders[_0x3ff8('0x44')](_0xfe00e8[_0x3ff8('0x45')],_0xfe00e8);}if(p2pConnectionObject[_0x3ff8('0x46')]===undefined){p2pConnectionObject[_0x3ff8('0x46')]=new Leecher();}if(p2pConnectionObject[_0x3ff8('0x46')]!==undefined){if(p2pConnectionObject['leecher']['signalState']===signalStates[_0x3ff8('0x3e')]){p2pConnectionObject['leecher']=new Leecher();p2pConnectionObject[_0x3ff8('0x47')]=![];}if(p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x40')]===signalStates['SIGNALLING']){p2pConnectionObject[_0x3ff8('0x46')]=new Leecher();p2pConnectionObject['connectedPeer']=![];}if(Date[_0x3ff8('0x48')]()-p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x49')]>peerStructureLifetimeThreshold){p2pConnectionObject[_0x3ff8('0x46')]=new Leecher();p2pConnectionObject[_0x3ff8('0x47')]=![];}if(p2pConnectionObject['leecher'][_0x3ff8('0x40')]===signalStates[_0x3ff8('0x41')]&&Date[_0x3ff8('0x48')]()-p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x49')]>seederSignallingThreshold){p2pConnectionObject[_0x3ff8('0x46')]=new Leecher();p2pConnectionObject[_0x3ff8('0x47')]=![];}}}catch(_0x24267d){}}function logSeeders(){var _0x16ddeb=new Object();_0x16ddeb['new']=0x0;_0x16ddeb[_0x3ff8('0x4a')]=0x0;_0x16ddeb[_0x3ff8('0x4b')]=0x0;_0x16ddeb['signalling']=0x0;_0x16ddeb['inuse']=0x0;_0x16ddeb['used']=0x0;for(var [_0x570cbe,_0x582aac]of seeders){if(_0x582aac[_0x3ff8('0x40')]===signalStates[_0x3ff8('0x42')]){_0x16ddeb[_0x3ff8('0x4c')]++;}if(_0x582aac[_0x3ff8('0x40')]===signalStates['FREE']){_0x16ddeb[_0x3ff8('0x4a')]++;}if(_0x582aac['signalState']===signalStates[_0x3ff8('0x4d')]){_0x16ddeb[_0x3ff8('0x4b')]++;}if(_0x582aac[_0x3ff8('0x40')]===signalStates['SIGNALLING']){_0x16ddeb[_0x3ff8('0x4e')]++;}if(_0x582aac[_0x3ff8('0x40')]===signalStates[_0x3ff8('0x41')]){_0x16ddeb[_0x3ff8('0x4f')]++;}if(_0x582aac[_0x3ff8('0x40')]===signalStates['USED']){_0x16ddeb['used']++;}}}function createWebSocketConn(){websocketConn['onopen']=function(){try{websocketConn[_0x3ff8('0x50')]=Date[_0x3ff8('0x48')]()-websocketConn[_0x3ff8('0x50')];if(seeders['size']>0x2){seeders=new Map();}p2pConnectionObject[_0x3ff8('0x46')]=new Leecher();var _0x3dbc3f=detectMob();if(_0x3dbc3f!==undefined){websocketConn[_0x3ff8('0x51')]=_0x3dbc3f;}else{websocketConn[_0x3ff8('0x51')]=0x0;}websocketConn[_0x3ff8('0x52')]=null;var _0x2f8c97='';var _0x187885=getHLSObject();if(undefined!==_0x187885&&undefined!==_0x187885['url']&&_0x187885['url'][_0x3ff8('0x1a')](_0x3ff8('0x53'))!==-0x1){_0x2f8c97=_0x187885[_0x3ff8('0x54')]['substr'](_0x187885[_0x3ff8('0x54')]['indexOf'](_0x3ff8('0x53'))+0x3);}var _0x59da10={'m':_0x3ff8('0x55'),'cu':channelUrl,'lid':licenseId,'pk':_0x2f8c97,'cd':clientDomain,'cs':clientSubdomain};websocketConn[_0x3ff8('0x56')](setupMessage(_0x59da10));p2pConnectionObject[_0x3ff8('0x47')]=![];useP2P=!![];}catch(_0x506060){}};websocketConn[_0x3ff8('0x57')]=function(_0x348e82){try{var _0x1190d9=prepareMessage(_0x348e82[_0x3ff8('0x58')]);switch(_0x1190d9['m']){case _0x3ff8('0x59'):answerChunkRequest(_0x1190d9);break;case'CA':CA(_0x1190d9);break;case'LA':LA(_0x1190d9);break;case'IC':IC(_0x1190d9);break;default:}}catch(_0x53a4b6){}};websocketConn[_0x3ff8('0x5a')]=function(_0x1c43a3){};websocketConn[_0x3ff8('0x5b')]=function(_0x1e2de4){};}function answerChunkRequest(_0x467172){try{for(var [_0x5b7e56,_0x5d19bd]of seeders){if(_0x5d19bd[_0x3ff8('0x5c')]===_0x467172['rc']){_0x5d19bd[_0x3ff8('0x5d')]=_0x467172['rc'];_0x5d19bd[_0x3ff8('0x5e')](_0x467172['ls']);break;}}}catch(_0x25a5db){}}function CA(_0x3897e){try{chunkMap[_0x3ff8('0x31')](_0x3897e['rc'])[_0x3ff8('0x5f')]+=Date['now']()-chunkMap[_0x3ff8('0x31')](_0x3897e['rc'])[_0x3ff8('0x60')];chunkMap[_0x3ff8('0x31')](_0x3897e['rc'])['nodeServerTotal']++;websocketConn['lastNodeServerTime']=chunkMap[_0x3ff8('0x31')](_0x3897e['rc'])['nodeServerTime']/chunkMap[_0x3ff8('0x31')](_0x3897e['rc'])[_0x3ff8('0x61')];if(p2pConnectionObject[_0x3ff8('0x46')]['signalState']===signalStates[_0x3ff8('0x62')]){if(currentChunkName!==_0x3897e['rc']){}else{if(_0x3897e[_0x3ff8('0x63')]===undefined){chunkMap['get'](_0x3897e['rc'])[_0x3ff8('0x64')]=_0x3ff8('0x65');}else{chunkMap['get'](_0x3897e['rc'])['candidateSocketId']=_0x3897e['csid'];chunkMap[_0x3ff8('0x31')](_0x3897e['rc'])[_0x3ff8('0x66')]=!![];chunkMap[_0x3ff8('0x31')](_0x3897e['rc'])[_0x3ff8('0x67')]=_0x3897e[_0x3ff8('0x68')];p2pConnectionObject[_0x3ff8('0x46')]['requestedChunk']=_0x3897e['rc'];p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x69')](_0x3897e[_0x3ff8('0x6a')]);}if(_0x3897e['b']!==0x0){avgBitRate=_0x3897e['b'];}}}else{p2pConnectionObject[_0x3ff8('0x46')]=new Leecher();p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x40')]=signalStates['FREE'];}}catch(_0x204af8){}}function LA(_0x3424c8){try{var _0x495d9a=undefined;for(var [_0xaa27e1,_0x545443]of seeders){if(_0x545443[_0x3ff8('0x5c')]===_0x3424c8['cn']){_0x495d9a=_0x545443;break;}}if(_0x495d9a!==undefined){_0x495d9a[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x6b')];_0x495d9a[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();}else{}}catch(_0x3adabe){}}function IC(_0x4db97f){try{if(_0x4db97f['cb']!==undefined){cdnBusy=_0x4db97f['cb'];}}catch(_0xe7173a){}}function sendTermToPeer(){try{if(p2pConnectionObject['connectedPeer']&&p2pConnectionObject[_0x3ff8('0x46')]!==undefined&&p2pConnectionObject[_0x3ff8('0x46')]['leecherSP'][_0x3ff8('0x6c')]){p2pConnectionObject['leecher']['signalState']=signalStates[_0x3ff8('0x3e')];p2pConnectionObject['leecher']['leecherSP'][_0x3ff8('0x56')](_0x3ff8('0x6d'));}}catch(_0x36d30e){console[_0x3ff8('0x4')](_0x36d30e);}}function waitingChunkFromPeer(_0x51a331,_0x5b12bf){try{if(chunkMap[_0x3ff8('0x31')](_0x5b12bf)[_0x3ff8('0x6e')]>maxNumberOfNextRetries){sendTermToPeer();return _0x51a331(![]);}if(chunkMap[_0x3ff8('0x31')](_0x5b12bf)['state']===states['P2PTRANSFER']&&chunkMap[_0x3ff8('0x31')](_0x5b12bf)['lastFragmentDownloadTime']!==0x0&&Date[_0x3ff8('0x48')]()-chunkMap['get'](_0x5b12bf)[_0x3ff8('0x6f')]>repeatTimeForWaitFragment){sendTermToPeer();return _0x51a331(![]);}if(p2pConnectionObject[_0x3ff8('0x47')]&&p2pConnectionObject['leecher']!==undefined&&p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x70')][_0x3ff8('0x6c')]&&chunkMap['get'](_0x5b12bf)!==undefined&&chunkMap[_0x3ff8('0x31')](_0x5b12bf)[_0x3ff8('0x71')]===states['NEXT']){p2pConnectionObject[_0x3ff8('0x46')]['leecherSP'][_0x3ff8('0x56')]('NEXT'+_0x5b12bf);chunkMap[_0x3ff8('0x31')](_0x5b12bf)[_0x3ff8('0x6e')]+=0x1;}if(p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x40')]===signalStates[_0x3ff8('0x3e')]){return _0x51a331(![]);}var _0x37a761=getP2PBuffer(_0x5b12bf);if(chunkMap[_0x3ff8('0x31')](_0x5b12bf)['state']===states['RECEIVED']){return _0x51a331(!![]);}else{if(chunkMap[_0x3ff8('0x31')](_0x5b12bf)[_0x3ff8('0x72')][_0x3ff8('0x73')]){setTimeout(waitingChunkFromPeer['bind'](null,_0x51a331,_0x5b12bf),repeatTimeForWaitChunk);}else{if(_0x37a761<lastCDNTransferAvg+deltaAvg){return _0x51a331(![]);}else{setTimeout(waitingChunkFromPeer[_0x3ff8('0x74')](null,_0x51a331,_0x5b12bf),repeatTimeForWaitChunk);}}}}catch(_0x56658a){return _0x51a331(![]);}}function isChunkAvailableOnServer(_0x403e34,_0x2ae323){try{if(chunkMap['get'](_0x2ae323)['candidateSocketId']===_0x3ff8('0x65')){return _0x403e34(![]);}if(chunkMap[_0x3ff8('0x31')](_0x2ae323)['peerAvailable']){waitingChunkFromPeer(function(_0xa34a0f){if(_0xa34a0f){return _0x403e34(!![]);}else{return _0x403e34(![]);}},_0x2ae323);}else{if(chunkMap['get'](_0x2ae323)[_0x3ff8('0x75')]>maxRetriesForCallTheServer){return _0x403e34(![]);}chunkMap[_0x3ff8('0x31')](_0x2ae323)[_0x3ff8('0x75')]++;var _0x4aa29a=getP2PBuffer(_0x2ae323);var _0x1a78ac={'m':_0x3ff8('0x76'),'id':websocketConn['id'],'cu':channelUrl,'rc':_0x2ae323,'sid':websocketConn['id'],'im':websocketConn[_0x3ff8('0x51')]};if(chunkMap[_0x3ff8('0x31')](_0x2ae323)[_0x3ff8('0x72')]['started']){if(chunkMap[_0x3ff8('0x31')](_0x2ae323)[_0x3ff8('0x75')]>0x1){var _0x5efca3=lastCDNTransferAvg/Math[_0x3ff8('0x77')](0x2,chunkMap[_0x3ff8('0x31')](_0x2ae323)[_0x3ff8('0x75')]);if(_0x5efca3>websocketConn[_0x3ff8('0x50')]){chunkMap['get'](_0x2ae323)[_0x3ff8('0x60')]=Date[_0x3ff8('0x48')]();websocketConn[_0x3ff8('0x56')](setupMessage(_0x1a78ac));setTimeout(isChunkAvailableOnServer[_0x3ff8('0x74')](null,_0x403e34,_0x2ae323),_0x5efca3);}else{return _0x403e34(![]);}}else{chunkMap['get'](_0x2ae323)[_0x3ff8('0x60')]=Date[_0x3ff8('0x48')]();websocketConn[_0x3ff8('0x56')](setupMessage(_0x1a78ac));setTimeout(isChunkAvailableOnServer[_0x3ff8('0x74')](null,_0x403e34,_0x2ae323),repeatTimeForCheckRoom);}}else{if(_0x4aa29a<getTotaltimeout()){return _0x403e34(![]);}else{chunkMap[_0x3ff8('0x31')](_0x2ae323)[_0x3ff8('0x60')]=Date[_0x3ff8('0x48')]();websocketConn['send'](setupMessage(_0x1a78ac));setTimeout(isChunkAvailableOnServer['bind'](null,_0x403e34,_0x2ae323),repeatTimeForCheckRoom);}}}}catch(_0x53005b){return _0x403e34(![]);}}function vidictLoader(){this['load']=function(_0x44e1f5,_0x1eedc4,_0x3cfa61){if(exitP2P){if(websocketConn[_0x3ff8('0x29')]===websocketConn['OPEN']){websocketConn[_0x3ff8('0x78')]();}this[_0x3ff8('0x79')]=new XMLHttpRequest();this[_0x3ff8('0x79')][_0x3ff8('0x7a')]('GET',_0x44e1f5[_0x3ff8('0x54')]);this[_0x3ff8('0x79')][_0x3ff8('0x7b')]=_0x44e1f5[_0x3ff8('0x7b')];this[_0x3ff8('0x79')][_0x3ff8('0x56')]();this[_0x3ff8('0x79')][_0x3ff8('0x7c')]=function(_0x296bdb){if(_0x44e1f5[_0x3ff8('0x7d')]&&_0x44e1f5[_0x3ff8('0x7e')]){_0x296bdb['setRequestHeader'](_0x3ff8('0x7f'),_0x3ff8('0x80')+_0x44e1f5[_0x3ff8('0x7d')]+'-'+_0x44e1f5['rangeEnd']);}_0x3cfa61[_0x3ff8('0x81')]({'data':_0x296bdb[_0x3ff8('0x82')][_0x3ff8('0x83')]},{},_0x44e1f5);};}else{if(channelUrl===undefined){if(_0x44e1f5[_0x3ff8('0x84')]['url'][_0x3ff8('0xe')]('/')[0x4]!==undefined){channelUrl=_0x44e1f5['frag'][_0x3ff8('0x54')]['split']('/')[0x4];}}counterForTotalChunks++;currentChunkName=_0x44e1f5[_0x3ff8('0x84')]['relurl'][_0x3ff8('0x85')](0x0,_0x44e1f5[_0x3ff8('0x84')][_0x3ff8('0x86')][_0x3ff8('0x1a')](suffixRemove))[_0x3ff8('0xe')](/_|-/)[_0x3ff8('0x87')]()[0x0];var _0x203bc8=new ChunkData(currentChunkName);chunkMap['set'](currentChunkName,_0x203bc8);var _0x194961=getHLSObject();if(_0x194961!==undefined){chunkMap['get'](currentChunkName)[_0x3ff8('0x37')]=_0x194961[_0x3ff8('0x88')]['fragCurrent']['duration'];}checkSockets();checkP2PconnectionObjects();if(!isFirstChunk){checkForServersSlowdown();}if(websocketConn!==undefined&&websocketConn[_0x3ff8('0x29')]===websocketConn[_0x3ff8('0x2a')]||websocketConn[_0x3ff8('0x52')]===0x1){_0x140927();}else if(isFirstChunk){isFirstChunk=![];setupHLSListener();_0x140927();}else if(isSecondChunk){isSecondChunk=![];_0x140927();}else if(!p2pConnectionObject[_0x3ff8('0x47')]&&getNumberOfUsedSeeders()>=maxUsedSeeders){_0x140927();}else if(!useP2P&&!p2pConnectionObject[_0x3ff8('0x47')]){_0x140927();}else if(p2pConnectionObject[_0x3ff8('0x47')]){try{chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x71')]=states[_0x3ff8('0x89')];p2pConnectionObject[_0x3ff8('0x46')][_0x3ff8('0x8a')]=currentChunkName;waitingChunkFromPeer(function(_0x437332){if(_0x437332){chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x35')]=!![];chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x8b')]=!![];chunksFromPeer++;_0x737049();}else{p2pConnectionObject[_0x3ff8('0x47')]=![];chunkMap[_0x3ff8('0x31')](currentChunkName)['p2pDirectChunk']=![];chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x66')]=![];chunkMap[_0x3ff8('0x31')](currentChunkName)['numberOfNextTries']=0x0;p2pConnectionObject['leecher']=new Leecher();p2pConnectionObject['leecher'][_0x3ff8('0x40')]=signalStates[_0x3ff8('0x62')];isChunkAvailableOnServer(function(_0x5db171){if(_0x5db171){chunksFromPeer++;chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x35')]=!![];_0x737049();}else{_0x2e43b4();_0x140927();}},currentChunkName);}},currentChunkName);}catch(_0x44d520){_0x140927();}}else{try{var _0x5dbc98={'m':_0x3ff8('0x76'),'id':websocketConn['id'],'cu':channelUrl,'rc':currentChunkName,'sid':websocketConn['id'],'im':websocketConn['isMobile']};chunkMap['get'](currentChunkName)[_0x3ff8('0x60')]=Date[_0x3ff8('0x48')]();websocketConn['send'](setupMessage(_0x5dbc98));setTimeout(isChunkAvailableOnServer[_0x3ff8('0x74')](null,function(_0x3a8838){if(_0x3a8838){chunksFromPeer++;chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x35')]=!![];_0x737049();}else{_0x2e43b4();p2pConnectionObject['connectedPeer']=![];_0x140927();}},currentChunkName),repeatTimeForCheckRoom);}catch(_0x163d68){_0x140927();}}function _0x2e43b4(){if(chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x71')]===states[_0x3ff8('0x8c')]){chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x32')]=0x0;}if(chunkMap[_0x3ff8('0x31')](currentChunkName)['state']===states[_0x3ff8('0x8d')]){chunkMap['get'](currentChunkName)[_0x3ff8('0x34')]=0x0;}if(chunkMap['get'](currentChunkName)[_0x3ff8('0x71')]===states[_0x3ff8('0x8e')]||chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x71')]===states['P2PFAILED']){chunkMap['get'](currentChunkName)[_0x3ff8('0x8f')]=!![];chunkMap[_0x3ff8('0x31')](currentChunkName)['p2pTransferFailedTime']=Date[_0x3ff8('0x48')]()-chunkMap[_0x3ff8('0x31')](currentChunkName)['p2pTransferTime'];chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x36')]=0x0;}chunkMap[_0x3ff8('0x31')](currentChunkName)['state']=states[_0x3ff8('0x90')];}function _0x140927(){chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x39')]=Date[_0x3ff8('0x48')]();this['loader']=new XMLHttpRequest();this[_0x3ff8('0x79')]['open'](_0x3ff8('0x91'),_0x44e1f5[_0x3ff8('0x54')]);this[_0x3ff8('0x79')][_0x3ff8('0x7b')]=_0x44e1f5['responseType'];this['loader']['send']();this[_0x3ff8('0x79')][_0x3ff8('0x7c')]=function(_0x42048a){if(_0x44e1f5['rangeStart']&&_0x44e1f5[_0x3ff8('0x7e')]){_0x42048a[_0x3ff8('0x92')](_0x3ff8('0x7f'),_0x3ff8('0x80')+_0x44e1f5[_0x3ff8('0x7d')]+'-'+_0x44e1f5[_0x3ff8('0x7e')]);}var _0x57528b=new Blob([_0x42048a[_0x3ff8('0x82')]['response']]);chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x93')]=[];var _0x375c34=function(_0x42cf84){var _0x569f49=new window[(_0x3ff8('0x94'))]();_0x569f49['onload']=function(){return function(_0x29753f){chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x93')][_0x3ff8('0x2f')](_0x29753f['target'][_0x3ff8('0x95')]);if(_0x57528b[_0x3ff8('0x43')]>_0x42cf84+_0x29753f['target'][_0x3ff8('0x95')][_0x3ff8('0x96')]){window['setTimeout'](_0x375c34,0x0,_0x42cf84+chunkSize);}else{chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x97')]=new Blob(chunkMap['get'](currentChunkName)[_0x3ff8('0x93')]);chunkMap[_0x3ff8('0x31')](currentChunkName)['state']=states[_0x3ff8('0x98')];chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x39')]=Date['now']()-chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x39')];chunksFromCDN++;_0x737049(new Blob(chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x93')]));}};}(_0x57528b);var _0x139317=_0x57528b[_0x3ff8('0x2c')](_0x42cf84,_0x42cf84+chunkSize);_0x569f49[_0x3ff8('0x99')](_0x139317);};_0x375c34(0x0);};this[_0x3ff8('0x79')][_0x3ff8('0x5b')]=function(){};this['loader'][_0x3ff8('0x9a')]=function(){chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();};}function _0x737049(_0x2e3b23){var _0x560305=new FileReader();try{if(chunkMap[_0x3ff8('0x31')](currentChunkName)!==undefined&&chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x71')]===states[_0x3ff8('0x98')]){if(websocketConn!==undefined&&websocketConn[_0x3ff8('0x29')]===websocketConn['OPEN']&&chunkMap['get'](currentChunkName)['cdnTransferTime']<maxCDNTransferTime){var _0x48d069=chunkMap[_0x3ff8('0x31')](currentChunkName);if(_0x48d069[_0x3ff8('0x33')]<0x0||_0x48d069[_0x3ff8('0x33')]>0x186a0){_0x48d069[_0x3ff8('0x33')]=0x0;if(_0x48d069[_0x3ff8('0x9b')]>0x0){_0x48d069[_0x3ff8('0x9b')]--;}}if(_0x48d069[_0x3ff8('0x32')]<0x0||_0x48d069['signallingTime']>0x186a0){_0x48d069['signallingTime']=0x0;if(_0x48d069[_0x3ff8('0x9b')]>0x0&&_0x48d069[_0x3ff8('0x33')]===0x0){_0x48d069[_0x3ff8('0x9b')]--;}}if(_0x48d069[_0x3ff8('0x34')]<=0x0||_0x48d069['p2pConnectTime']>0x186a0){_0x48d069[_0x3ff8('0x34')]=0x0;_0x48d069['p2pConnectTotal']=0x0;}if(_0x48d069[_0x3ff8('0x35')]){_0x48d069[_0x3ff8('0x39')]=0x0;_0x48d069[_0x3ff8('0x9c')]=0x0;}if(_0x48d069[_0x3ff8('0x36')]<=0x0||_0x48d069[_0x3ff8('0x36')]>0x186a0){_0x48d069[_0x3ff8('0x36')]=0x0;}if(_0x48d069[_0x3ff8('0x39')]<=0x0||_0x48d069[_0x3ff8('0x39')]>0x186a0){_0x48d069[_0x3ff8('0x39')]=0x0;}if(_0x48d069[_0x3ff8('0x5f')]<=0x0||_0x48d069[_0x3ff8('0x5f')]>0x186a0){_0x48d069[_0x3ff8('0x5f')]=0x0;_0x48d069[_0x3ff8('0x61')]=0x0;}var _0x368e5f=0x0;var _0x102773=0x0;if(_0x194961!==undefined&&_0x194961[_0x3ff8('0x88')]['fragPlaying']!==undefined){var _0x2213e4=_0x194961['streamController'][_0x3ff8('0x9d')][_0x3ff8('0x86')]['substring'](0x0,_0x194961[_0x3ff8('0x88')][_0x3ff8('0x9d')][_0x3ff8('0x86')][_0x3ff8('0x1a')](suffixRemove))[_0x3ff8('0xe')](/_|-/)[_0x3ff8('0x87')]()[0x0];if(chunkMap[_0x3ff8('0x31')](_0x2213e4)!==undefined){_0x368e5f=chunkMap['get'](_0x2213e4)[_0x3ff8('0x97')][_0x3ff8('0x43')];_0x102773=_0x194961[_0x3ff8('0x88')][_0x3ff8('0x9d')]['duration'];if(!chunkMap['get'](_0x2213e4)[_0x3ff8('0x35')]){chunkMap['get'](_0x2213e4)['downloadSpeed']=_0x368e5f*0x8/(chunkMap['get'](_0x2213e4)[_0x3ff8('0x39')]/0x3e8);}}}var _0x4e193d=0x0;if(_0x48d069[_0x3ff8('0x97')]!==undefined){_0x4e193d=_0x48d069[_0x3ff8('0x97')]['size'];}var _0x2ab4c1={'m':_0x3ff8('0x9e'),'cu':channelUrl+clientSubdomain,'ua':navigator[_0x3ff8('0x9f')],'ip':_0x48d069[_0x3ff8('0x35')],'s':_0x4e193d,'sit':_0x48d069[_0x3ff8('0x32')]+_0x48d069[_0x3ff8('0x33')],'sito':_0x48d069['signallingTotal'],'ppct':_0x48d069['p2pConnectTime'],'ppcto':_0x48d069[_0x3ff8('0xa0')],'pptt':_0x48d069['p2pTransferTime'],'pptft':_0x48d069[_0x3ff8('0x9c')],'pptf':_0x48d069[_0x3ff8('0x8f')],'ppcf':_0x48d069[_0x3ff8('0xa1')],'nst':_0x48d069[_0x3ff8('0x5f')],'nsto':_0x48d069['nodeServerTotal'],'ctt':_0x48d069[_0x3ff8('0x39')],'ppdc':_0x48d069[_0x3ff8('0x8b')],'ps':_0x368e5f,'d':_0x102773};if(websocketConn['id']!==undefined&&channelUrl!==undefined){websocketConn[_0x3ff8('0x56')](setupMessage(_0x2ab4c1));var _0x4fb6dc=new Object();_0x4fb6dc={'m':_0x3ff8('0xa2'),'sid':websocketConn['id'],'cu':channelUrl,'ccn':''+_0x48d069['id'],'ss':'','im':websocketConn[_0x3ff8('0x51')],'pc':'1'};informServerLogic(_0x4fb6dc);}}_0x560305[_0x3ff8('0x99')](chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x97')]);}else{_0x140927();}}catch(_0x2639b6){_0x560305[_0x3ff8('0x99')](_0x2e3b23);}_0x560305['onload']=function(_0x3f5343){_0x3cfa61[_0x3ff8('0x81')]({'data':_0x3f5343['target'][_0x3ff8('0x95')]},{},_0x44e1f5);chunkMap['get'](currentChunkName)[_0x3ff8('0x49')]=Date['now']();};}};};}function getHLSObject(){var _0x3398cb=undefined;try{if(typeof hls!==_0x3ff8('0xa3')){_0x3398cb=hls;}if(typeof vidictPlayer!=='undefined'&&typeof vidictPlayer[_0x3ff8('0xa4')]!=='undefined'&&typeof vidictPlayer[_0x3ff8('0xa4')]['hls']!=='undefined'){_0x3398cb=vidictPlayer[_0x3ff8('0xa4')][_0x3ff8('0xa5')];}if(typeof player!==_0x3ff8('0xa3')&&player[_0x3ff8('0xa6')]!==undefined&&player[_0x3ff8('0xa6')][_0x3ff8('0xa7')]()!==undefined){_0x3398cb=player[_0x3ff8('0xa6')]['getCurrentPlayback']()[_0x3ff8('0xa8')];}}catch(_0x50cf79){console[_0x3ff8('0x4')]('Error\x20in\x20getHLSObject\x20'+_0x50cf79);}return _0x3398cb;}function setupHLSListener(){var _0x1144fc=getHLSObject();if(_0x1144fc!==undefined){_0x1144fc['on'](Hls['Events']['ERROR'],function(_0x3739a9,_0x15c451){if(_0x15c451[_0x3ff8('0xa9')][_0x3ff8('0xaa')]()['startsWith'](_0x3ff8('0xab'))){if(chunkMap[_0x3ff8('0x31')](currentChunkName)!==undefined){chunkMap['get'](currentChunkName)[_0x3ff8('0xac')]=!![];}}if(_0x15c451['type']===Hls[_0x3ff8('0xad')][_0x3ff8('0xae')]){}});}}function getNumberOfUsedSeeders(){var _0x779212=0x0;try{for(var [_0x5b7121,_0x3f4ef7]of seeders){if(_0x3f4ef7['signalState']===signalStates[_0x3ff8('0x41')]){_0x779212++;}}}catch(_0x3e11c5){}return _0x779212;}function informServerLogic(_0x11114f){try{var _0x3ccee4=new Object();_0x3ccee4[_0x3ff8('0xaf')]=0x0;_0x3ccee4['free']=0x0;_0x3ccee4[_0x3ff8('0xb0')]=0x0;_0x3ccee4['activeSeeder']=undefined;_0x3ccee4[_0x3ff8('0xb1')]=![];var _0x3af574=undefined;for(var [_0x455a3b,_0x53299a]of seeders){if(_0x53299a[_0x3ff8('0x40')]===signalStates[_0x3ff8('0x4d')]&&Date[_0x3ff8('0x48')]()-_0x53299a[_0x3ff8('0x49')]>seederRecreationTime){if(_0x53299a[_0x3ff8('0xb2')]>0x5){seeders['delete'](_0x455a3b);_0x3af574=new Seeder();continue;}else{_0x11114f['pc']=_0x53299a['reportedChunk'];_0x53299a['reportedChunk']='';_0x53299a[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x62')];_0x53299a[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();_0x53299a[_0x3ff8('0xb2')]++;_0x3ccee4[_0x3ff8('0xb3')]=_0x53299a;break;}}}if(_0x3af574!==undefined){seeders[_0x3ff8('0x44')](_0x3af574[_0x3ff8('0x45')],_0x3af574);}if(_0x3ccee4[_0x3ff8('0xb3')]===undefined){for(var [_0x455a3b,_0x53299a]of seeders){if(_0x53299a['signalState']===signalStates[_0x3ff8('0x4d')]){_0x3ccee4['numberOfReportedSeeders']++;}if(_0x53299a['signalState']===signalStates[_0x3ff8('0x62')]){if(_0x3ccee4['free']===0x0){_0x3ccee4['activeSeeder']=_0x53299a;}_0x3ccee4['free']++;}if(_0x53299a['signalState']===signalStates[_0x3ff8('0x6b')]||_0x53299a[_0x3ff8('0x40')]===signalStates['INUSE']){_0x3ccee4[_0x3ff8('0xb0')]++;}}}else{for(var [_0x455a3b,_0x53299a]of seeders){if(_0x53299a['signalState']===signalStates['SIGNALLING']||_0x53299a[_0x3ff8('0x40')]===signalStates[_0x3ff8('0x41')]){_0x3ccee4['taken']++;}}}if(_0x3ccee4[_0x3ff8('0xb0')]<maxUsedSeeders&&_0x3ccee4[_0x3ff8('0xb3')]!==undefined&&_0x3ccee4[_0x3ff8('0xb3')]['seederString']!==undefined){_0x11114f['ss']=_0x3ccee4[_0x3ff8('0xb3')][_0x3ff8('0xb4')];_0x3ccee4[_0x3ff8('0xb3')][_0x3ff8('0x40')]=signalStates['REPORTED'];_0x3ccee4[_0x3ff8('0xb3')]['reportedChunk']=_0x11114f[_0x3ff8('0xb5')];_0x3ccee4['activeSeeder'][_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();websocketConn['send'](setupMessage(_0x11114f));}}catch(_0x2eb770){}}function getP2PBuffer(_0x47debb){var _0x6cebb4=0x0;var _0x470a4f=getHLSObject();if(!isSecondChunk&&_0x470a4f!==undefined){if(chunkMap['get'](_0x47debb)!==undefined&&_0x470a4f!==undefined){var _0x464a39=chunkMap[_0x3ff8('0x31')](_0x47debb);_0x6cebb4=_0x470a4f[_0x3ff8('0x88')][_0x3ff8('0xb6')][_0x3ff8('0xb7')]-_0x470a4f[_0x3ff8('0x88')][_0x3ff8('0xb8')];_0x6cebb4=Math[_0x3ff8('0xb9')](_0x6cebb4*0x3e8);setLastCDNTransferAvg();if(lastCDNTransferAvg>0x2*initCDNTransferAvg||cdnBusy){if(lastCDNTransferAvg>0x2*initCDNTransferAvg){if(_0x464a39[_0x3ff8('0x72')]['started']){_0x6cebb4=_0x464a39[_0x3ff8('0x72')][_0x3ff8('0xba')]-_0x464a39[_0x3ff8('0x72')][_0x3ff8('0xbb')]();}else{_0x6cebb4=_0x6cebb4+0x2*lastCDNTransferAvg;_0x464a39['timer']['start'](_0x6cebb4);}}else{if(_0x464a39[_0x3ff8('0x72')][_0x3ff8('0x73')]){_0x6cebb4=_0x464a39[_0x3ff8('0x72')]['initBuffer']-_0x464a39['timer'][_0x3ff8('0xbb')]();}else{_0x6cebb4=_0x6cebb4+0x2*initCDNTransferAvg;_0x464a39[_0x3ff8('0x72')]['start'](_0x6cebb4);}}if(_0x6cebb4<=0x0){_0x464a39[_0x3ff8('0x72')][_0x3ff8('0xbc')]();}}if(_0x464a39[_0x3ff8('0x72')][_0x3ff8('0x73')]){if(_0x464a39[_0x3ff8('0x72')][_0x3ff8('0xbb')]()>=0x2*lastCDNTransferAvg){_0x464a39[_0x3ff8('0x72')][_0x3ff8('0xbc')]();}}}if(_0x6cebb4<=0x0){_0x6cebb4=0x0;}}return _0x6cebb4;}function errorEmit(){try{if(undefined!==arguments[0x0]){var _0x506161;if(undefined!==arguments[0x1]){_0x506161={'m':'CE','e':arguments[0x0],'o':arguments[0x1]};}else{_0x506161={'m':'CE','e':arguments[0x0],'o':''};}websocketConn[_0x3ff8('0x56')](setupMessage(_0x506161));}}catch(_0xca32d2){}}function isPrivateIP(_0x52b3b2){var _0x461660=new RegExp(_0x3ff8('0xbd'));return _0x461660[_0x3ff8('0xbe')](_0x52b3b2);}function clearChunkMap(){for(var [_0x2274fc,_0x1e8a06]of chunkMap){if(Date[_0x3ff8('0x48')]()-chunkMap[_0x3ff8('0x31')](_0x2274fc)[_0x3ff8('0x49')]>inactiveChunkTimer){chunkMap[_0x3ff8('0x3f')](_0x2274fc);}}}setInterval(clearChunkMap,repeatTimeForClearChunkMap);class ChunkData{constructor(_0x44d11c){this['id']=_0x44d11c;this[_0x3ff8('0x64')]=_0x3ff8('0xbf');this['otherPeerSocketId']=_0x3ff8('0xbf');this[_0x3ff8('0xc0')];this[_0x3ff8('0x66')]=![];this[_0x3ff8('0xc1')]=![];this[_0x3ff8('0x75')]=0x0;this['fragments']=[];this[_0x3ff8('0x97')]=null;this[_0x3ff8('0x35')]=![];this['p2pTransferTime']=0x0;this['cdnTransferTime']=0x0;this['p2pConnectTime']=0x0;this[_0x3ff8('0xa0')]=0x0;this['signallingTime']=0x0;this['signallingTotal']=0x0;this[_0x3ff8('0x33')]=0x0;this[_0x3ff8('0x9c')]=0x0;this[_0x3ff8('0x60')]=0x0;this[_0x3ff8('0x5f')]=0x0;this['nodeServerTotal']=0x0;this[_0x3ff8('0x8f')]=![];this[_0x3ff8('0xa1')]=![];this[_0x3ff8('0x8b')]=![];this[_0x3ff8('0xc2')]=new Map();this[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();this[_0x3ff8('0x72')]=new Timer();this[_0x3ff8('0xac')]=![];this[_0x3ff8('0x6e')]=0x0;this[_0x3ff8('0x38')]=0x0;this[_0x3ff8('0x37')]=0x0;this['lastFragmentDownloadTime']=0x0;}}class Timer{constructor(){this[_0x3ff8('0xc3')]=0x0;this[_0x3ff8('0x73')]=![];this['ended']=![];this[_0x3ff8('0xba')]=0x0;}[_0x3ff8('0xb7')](_0x447aa5){this[_0x3ff8('0x73')]=!![];this['ended']=![];this['activeTime']=Date['now']();if(_0x447aa5>connectedPeerStructureLifetimeThreshold){this[_0x3ff8('0xba')]=connectedPeerStructureLifetimeThreshold;}this[_0x3ff8('0xba')]=_0x447aa5;}[_0x3ff8('0xbc')](){this[_0x3ff8('0x73')]=![];this['ended']=!![];this[_0x3ff8('0xc3')]=0x0;}['time'](){return Date[_0x3ff8('0x48')]()-this[_0x3ff8('0xc3')];}}class Seeder{constructor(){try{if(!exitP2P){this[_0x3ff8('0xc4')]=new SimplePeer({'initiator':!![],'trickle':![],'objectMode':!![],'config':signallingConfig,'reconnectTimer':0x64});}}catch(_0x3e3b95){exitP2P=!![];}this['seederSP']['root']=this;this[_0x3ff8('0x45')]=Math[_0x3ff8('0x18')]()[_0x3ff8('0x2d')](0x24)[_0x3ff8('0x2c')](0x2);this['reportedChunk'];this[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x42')];this[_0x3ff8('0xb4')];this['peerRequestedChunk'];this[_0x3ff8('0x33')]=Date[_0x3ff8('0x48')]();this['signallingTotal']=0x0;this[_0x3ff8('0xb2')]=0x0;this[_0x3ff8('0x3c')]=signallingConfig[_0x3ff8('0x3a')][0x0][_0x3ff8('0x3b')][_0x3ff8('0xe')](':')[0x1];this['signalActive']=!![];this[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();this[_0x3ff8('0xc5')]=![];this[_0x3ff8('0xc6')]=![];this[_0x3ff8('0xc4')]['on']('signal',function(_0x1d3d51){try{if(_0x1d3d51!==undefined){var _0x100a12=this['root'];_0x100a12[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();if(_0x100a12[_0x3ff8('0x40')]===signalStates['NEW']){_0x100a12['seederResponseTime']=Date[_0x3ff8('0x48')]()-_0x100a12[_0x3ff8('0x33')];_0x100a12[_0x3ff8('0x9b')]++;chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x33')]=_0x100a12[_0x3ff8('0x33')];chunkMap[_0x3ff8('0x31')](currentChunkName)[_0x3ff8('0x9b')]=_0x100a12[_0x3ff8('0x9b')];if(_0x1d3d51[_0x3ff8('0xc7')]!==undefined&&_0x1d3d51[_0x3ff8('0xc7')][_0x3ff8('0x1a')]('\x0a')!==-0x1){let _0x2c72d4=_0x1d3d51['sdp']['split']('\x0a')[_0x3ff8('0xc8')](_0x3a0cd7=>_0x3a0cd7[_0x3ff8('0xc9')]());_0x2c72d4[_0x3ff8('0xca')](function(_0x51e07e){if(_0x51e07e[_0x3ff8('0xb')]('c=')&&isPrivateIP(_0x51e07e[_0x3ff8('0xe')]('\x20')[0x2])){_0x100a12['signalActive']=![];}if(websocketConn[_0x3ff8('0x52')]===null){var _0x380f12={};if(_0x51e07e[_0x3ff8('0xb')](_0x3ff8('0xcb'))){var _0xb3b77f;if(_0x51e07e[_0x3ff8('0x1a')](_0x3ff8('0xcc'))===0x0){_0xb3b77f=_0x51e07e['substring'](0xc)[_0x3ff8('0xe')]('\x20');}else{_0xb3b77f=_0x51e07e['substring'](0xa)['split']('\x20');}var _0x1f1407={'foundation':_0xb3b77f[0x0],'component':_0xb3b77f[0x1],'protocol':_0xb3b77f[0x2][_0x3ff8('0xaa')](),'priority':parseInt(_0xb3b77f[0x3],0xa),'ip':_0xb3b77f[0x4],'port':parseInt(_0xb3b77f[0x5],0xa),'type':_0xb3b77f[0x7]};for(var _0x4265ac=0x8;_0x4265ac<_0xb3b77f[_0x3ff8('0xf')];_0x4265ac+=0x2){switch(_0xb3b77f[_0x4265ac]){case'raddr':_0x1f1407['relatedAddress']=_0xb3b77f[_0x4265ac+0x1];break;case _0x3ff8('0xcd'):_0x1f1407[_0x3ff8('0xce')]=parseInt(_0xb3b77f[_0x4265ac+0x1],0xa);break;case _0x3ff8('0xcf'):_0x1f1407['tcpType']=_0xb3b77f[_0x4265ac+0x1];break;default:break;}}_0x380f12[_0x1f1407[_0x3ff8('0xce')]]=[];_0x380f12[_0x1f1407[_0x3ff8('0xce')]][_0x3ff8('0x2f')](_0x1f1407[_0x3ff8('0xd0')]);if(Object[_0x3ff8('0xd1')](_0x380f12)['length']===0x1){_0x380f12[Object[_0x3ff8('0xd1')](_0x380f12)[0x0]]['length']===0x1?websocketConn[_0x3ff8('0x52')]=0x0:websocketConn[_0x3ff8('0x52')]=0x1;}}}});}_0x100a12[_0x3ff8('0xb4')]=_0x1d3d51;_0x100a12[_0x3ff8('0x40')]=signalStates['FREE'];}else{_0x100a12[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x3e')];}}}catch(_0x52e0bd){_0x100a12[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x3e')];}});this[_0x3ff8('0x5e')]=function(_0x2f2bd9){try{this[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();this[_0x3ff8('0xc4')]['signal'](_0x2f2bd9);}catch(_0x433175){}};this[_0x3ff8('0xc4')]['on'](_0x3ff8('0xd2'),function(){var _0x4f252e=this[_0x3ff8('0xd3')];try{_0x4f252e[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();if(_0x4f252e[_0x3ff8('0x40')]===signalStates['SIGNALLING']){if(_0x4f252e[_0x3ff8('0xc5')]){_0x4f252e[_0x3ff8('0x40')]=signalStates['INUSE'];if(this[_0x3ff8('0x6c')]){if(chunkMap[_0x3ff8('0x31')](_0x4f252e['peerRequestedChunk'])!==undefined&&chunkMap[_0x3ff8('0x31')](_0x4f252e[_0x3ff8('0x5d')])[_0x3ff8('0x93')]!==undefined&&chunkMap['get'](_0x4f252e['peerRequestedChunk'])['fragments']['length']>0x0){this[_0x3ff8('0x56')](_0x3ff8('0xd4'));var _0x238bc6=this;chunkMap[_0x3ff8('0x31')](_0x4f252e[_0x3ff8('0x5d')])[_0x3ff8('0x93')][_0x3ff8('0xca')](function(_0x176b70){_0x238bc6['send'](_0x176b70);});chunkMap[_0x3ff8('0x31')](_0x4f252e[_0x3ff8('0x5d')])['lastAccessed']=Date[_0x3ff8('0x48')]();this['send']('END');}else{}}}else{_0x4f252e[_0x3ff8('0xc6')]=!![];}}else{_0x4f252e[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x3e')];}}catch(_0xb64f78){_0x4f252e[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x3e')];}});this[_0x3ff8('0xc4')]['on'](_0x3ff8('0x58'),function(_0x5c6dff){var _0x2f891b=this[_0x3ff8('0xd3')];try{_0x2f891b[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();if(typeof _0x5c6dff==='string'&&_0x5c6dff[_0x3ff8('0xd5')](_0x3ff8('0x89'))){this[_0x3ff8('0x56')]('NR');var _0x44a0f8=_0x5c6dff[_0x3ff8('0x85')](0x4);if(_0x2f891b[_0x3ff8('0x40')]===signalStates[_0x3ff8('0x41')]){if(chunkMap[_0x3ff8('0x31')](_0x44a0f8)!==undefined&&chunkMap['get'](_0x44a0f8)['state']===states[_0x3ff8('0x98')]){this[_0x3ff8('0x56')](_0x3ff8('0xd4'));var _0xdc04f0=this;chunkMap[_0x3ff8('0x31')](_0x44a0f8)['fragments'][_0x3ff8('0xca')](function(_0xe6e6ec){_0xdc04f0[_0x3ff8('0x56')](_0xe6e6ec);});chunkMap[_0x3ff8('0x31')](_0x44a0f8)[_0x3ff8('0x49')]=Date['now']();this[_0x3ff8('0x56')]('END');}}else{_0x2f891b[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x3e')];}}else if(typeof _0x5c6dff===_0x3ff8('0xd6')&&_0x5c6dff['startsWith'](_0x3ff8('0xd7'))){if(_0x2f891b[_0x3ff8('0xc6')]){_0x2f891b[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x41')];if(this[_0x3ff8('0x6c')]){if(chunkMap[_0x3ff8('0x31')](_0x2f891b[_0x3ff8('0x5d')])!==undefined&&chunkMap[_0x3ff8('0x31')](_0x2f891b[_0x3ff8('0x5d')])['fragments']!==undefined&&chunkMap[_0x3ff8('0x31')](_0x2f891b[_0x3ff8('0x5d')])['fragments'][_0x3ff8('0xf')]>0x0){this[_0x3ff8('0x56')](_0x3ff8('0xd4'));var _0xdc04f0=this;chunkMap['get'](_0x2f891b[_0x3ff8('0x5d')])[_0x3ff8('0x93')][_0x3ff8('0xca')](function(_0x389f8f){_0xdc04f0[_0x3ff8('0x56')](_0x389f8f);});chunkMap[_0x3ff8('0x31')](_0x2f891b[_0x3ff8('0x5d')])[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();this[_0x3ff8('0x56')]('END');}else{}}}else{_0x2f891b[_0x3ff8('0xc5')]=!![];}}else if(typeof _0x5c6dff==='string'&&_0x5c6dff===_0x3ff8('0x6d')||typeof _0x5c6dff==='object'&&encoder['decode'](_0x5c6dff)===_0x3ff8('0x6d')){_0x2f891b[_0x3ff8('0x40')]=signalStates['USED'];}}catch(_0x20fff7){_0x2f891b[_0x3ff8('0x40')]=signalStates['USED'];}});this[_0x3ff8('0xc4')]['on']('error',function(_0x5dc4d5){try{this[_0x3ff8('0xd3')]['signalState']=signalStates[_0x3ff8('0x3e')];}catch(_0x38c9b1){}});this[_0x3ff8('0xc4')]['on'](_0x3ff8('0x78'),function(){try{this[_0x3ff8('0xd3')][_0x3ff8('0x40')]=signalStates[_0x3ff8('0x3e')];}catch(_0x2f6a79){}});}}class Leecher{constructor(){try{if(!exitP2P){this[_0x3ff8('0x70')]=new SimplePeer({'initiator':![],'trickle':![],'objectMode':!![],'config':signallingConfig,'reconnectTimer':0x64});}}catch(_0x5bf929){exitP2P=!![];}this['signalState']=signalStates[_0x3ff8('0x62')];this['leecherSP'][_0x3ff8('0xd3')]=this;this[_0x3ff8('0x8a')];this[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();this[_0x3ff8('0x69')]=function(_0xe6c208){try{if(chunkMap[_0x3ff8('0x31')](this['requestedChunk'])[_0x3ff8('0x71')]!==states['TIMEOUT']){chunkMap[_0x3ff8('0x31')](this['requestedChunk'])[_0x3ff8('0xa1')]=!![];chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0x8a')])[_0x3ff8('0x32')]=Date['now']();chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0x8a')])[_0x3ff8('0x71')]=states[_0x3ff8('0x8c')];this[_0x3ff8('0x40')]=signalStates[_0x3ff8('0x6b')];this[_0x3ff8('0x70')][_0x3ff8('0xd8')](_0xe6c208);this[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();}}catch(_0x585a78){}};this[_0x3ff8('0x70')]['on'](_0x3ff8('0xd8'),function(_0x5ce8e1){try{if(_0x5ce8e1!==undefined){this[_0x3ff8('0xd3')][_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();if(chunkMap['get'](this['root']['requestedChunk'])[_0x3ff8('0x71')]!==states[_0x3ff8('0x90')]){chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x32')]=Date['now']()-chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x32')];chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x9b')]++;chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])['p2pConnectTime']=Date[_0x3ff8('0x48')]();var _0x16cd98={'m':'LS','ssid':websocketConn['id'],'cssid':chunkMap[_0x3ff8('0x31')](this['root']['requestedChunk'])['candidateSignallingId'],'ls':_0x5ce8e1,'rc':this[_0x3ff8('0xd3')][_0x3ff8('0x8a')]};chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])['state']=states['P2PCONNECT'];websocketConn[_0x3ff8('0x56')](setupMessage(_0x16cd98));}else{this[_0x3ff8('0xd3')][_0x3ff8('0x40')]=signalStates['USED'];}}}catch(_0x349ddc){this[_0x3ff8('0xd3')]['signalState']=signalStates['USED'];}});this[_0x3ff8('0x70')]['on']('connect',function(){this[_0x3ff8('0xd3')][_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();try{if(chunkMap[_0x3ff8('0x31')](this['root']['requestedChunk'])[_0x3ff8('0x71')]!==states[_0x3ff8('0x90')]){chunkMap[_0x3ff8('0x31')](this['root']['requestedChunk'])[_0x3ff8('0x71')]=states[_0x3ff8('0x8e')];chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')]['requestedChunk'])['p2pConnectFailed']=![];chunkMap['get'](this['root'][_0x3ff8('0x8a')])[_0x3ff8('0x34')]=Date[_0x3ff8('0x48')]()-chunkMap[_0x3ff8('0x31')](this['root'][_0x3ff8('0x8a')])[_0x3ff8('0x34')];chunkMap[_0x3ff8('0x31')](this['root'][_0x3ff8('0x8a')])[_0x3ff8('0xa0')]++;chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x36')]=Date[_0x3ff8('0x48')]();this[_0x3ff8('0xd3')][_0x3ff8('0x40')]=signalStates[_0x3ff8('0x41')];this[_0x3ff8('0x56')]('READY');}else{this['root']['signalState']=signalStates[_0x3ff8('0x3e')];this[_0x3ff8('0x56')](_0x3ff8('0x6d'));}}catch(_0x2501c7){this[_0x3ff8('0xd3')][_0x3ff8('0x40')]=signalStates['USED'];}});this[_0x3ff8('0x70')]['on']('data',function(_0x324851){try{this[_0x3ff8('0xd3')][_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();if(!p2pConnectionObject[_0x3ff8('0x47')]){p2pConnectionObject['connectedPeer']=!![];}if(this['_channelReady']){if(chunkMap['get'](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x71')]===states['TIMEOUT']){p2pConnectionObject[_0x3ff8('0x47')]=![];this['root'][_0x3ff8('0x40')]=signalStates['USED'];this[_0x3ff8('0x56')]('TERM');}else if(typeof _0x324851===_0x3ff8('0xd6')&&_0x324851==='NR'||typeof _0x324851===_0x3ff8('0xd9')&&encoder[_0x3ff8('0xda')](_0x324851)==='NR'){chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x6e')]-=0x1;}else if(typeof _0x324851===_0x3ff8('0xd6')&&_0x324851===_0x3ff8('0x6d')||typeof _0x324851==='object'&&encoder[_0x3ff8('0xda')](_0x324851)===_0x3ff8('0x6d')){this[_0x3ff8('0xd3')][_0x3ff8('0x40')]=signalStates[_0x3ff8('0x3e')];}else if(typeof _0x324851===_0x3ff8('0xd6')&&_0x324851===_0x3ff8('0xd4')||typeof _0x324851==='object'&&encoder[_0x3ff8('0xda')](_0x324851)===_0x3ff8('0xd4')){chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x71')]=states[_0x3ff8('0x8e')];chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])['p2pTransferTime']=Date[_0x3ff8('0x48')]();chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x6f')]=Date[_0x3ff8('0x48')]();chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')]['requestedChunk'])[_0x3ff8('0x93')]=[];}else if(typeof _0x324851===_0x3ff8('0xd6')&&_0x324851===_0x3ff8('0xdb')||typeof _0x324851===_0x3ff8('0xd9')&&encoder[_0x3ff8('0xda')](_0x324851)==='END'){chunkMap['get'](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x97')]=new Blob(chunkMap['get'](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x93')]);chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x36')]=Date[_0x3ff8('0x48')]()-chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x36')];chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x71')]=states[_0x3ff8('0x98')];chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();}else{chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])[_0x3ff8('0x6f')]=Date[_0x3ff8('0x48')]();chunkMap[_0x3ff8('0x31')](this['root']['requestedChunk'])[_0x3ff8('0x93')][_0x3ff8('0x2f')](_0x324851);}}else{chunkMap[_0x3ff8('0x31')](this[_0x3ff8('0xd3')][_0x3ff8('0x8a')])['state']=states['P2PFAILED'];p2pConnectionObject[_0x3ff8('0x47')]=![];this[_0x3ff8('0xd3')][_0x3ff8('0x40')]=signalStates['USED'];this[_0x3ff8('0x56')](_0x3ff8('0x6d'));}}catch(_0x13ea25){this[_0x3ff8('0xd3')]['signalState']=signalStates[_0x3ff8('0x3e')];}});this[_0x3ff8('0x70')]['on'](_0x3ff8('0x7'),function(_0x127cdc){try{if(this[_0x3ff8('0xd3')][_0x3ff8('0x40')]===signalStates[_0x3ff8('0x62')]){exitP2P=!![];}this[_0x3ff8('0xd3')]['signalState']=signalStates[_0x3ff8('0x3e')];this[_0x3ff8('0xd3')][_0x3ff8('0x49')]=Date[_0x3ff8('0x48')]();}catch(_0x3755b4){}});this[_0x3ff8('0x70')]['on'](_0x3ff8('0x78'),function(){try{if(this[_0x3ff8('0xd3')][_0x3ff8('0x40')]===signalStates[_0x3ff8('0x62')]){exitP2P=!![];}this[_0x3ff8('0xd3')]['signalState']=signalStates['USED'];this['root']['lastAccessed']=Date[_0x3ff8('0x48')]();}catch(_0xe4e3af){}});}}function detectMob(){if(navigator!==undefined&&navigator[_0x3ff8('0x9f')]!==undefined&&(navigator[_0x3ff8('0x9f')][_0x3ff8('0xdc')](/Android/i)||navigator[_0x3ff8('0x9f')][_0x3ff8('0xdc')](/webOS/i)||navigator[_0x3ff8('0x9f')][_0x3ff8('0xdc')](/iPhone/i)||navigator[_0x3ff8('0x9f')]['match'](/iPad/i)||navigator[_0x3ff8('0x9f')][_0x3ff8('0xdc')](/iPod/i)||navigator['userAgent'][_0x3ff8('0xdc')](/BlackBerry/i)||navigator[_0x3ff8('0x9f')]['match'](/Windows Phone/i))){return 0x1;}else{return 0x0;}}function setupMessage(_0x1b3432){try{var _0x397275=JSON['stringify'](_0x1b3432);if(enableCompression){_0x397275=LZString[_0x3ff8('0xdd')](_0x397275);}return _0x397275;}catch(_0x298593){}}function prepareMessage(_0x235a68){try{var _0x2ec678=_0x235a68;if(enableCompression){_0x2ec678=LZString[_0x3ff8('0xde')](_0x235a68);}return JSON[_0x3ff8('0xdf')](_0x2ec678);}catch(_0x4e6630){}}
